- defaults:
    link:
      relink: true

- clean: ["~"]
- clean:
    ~/.config:
      recursive: true

- create:
    - ~/Developer
    - ~/.config
- create:
    ~/.ssh:
      mode: 0700

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - [
        sh -c "$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)",
        Installing ohmyzsh,
      ]

- link:
    ~/Brewfile:
      if: "[ `uname` = Darwin ]"

- shell:
    - command:
        [
          /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)",
          Installing homebrew,
        ]
      if: "[ `uname` = Darwin ]"

- shell:
    - command: brew bundle
      stdin: true
      stdout: true
      description: Time to brew
      if: "[ `uname` = Darwin ]"

- shell:
    - command:
        [
          git clone --depth 1 https://github.com/wbthomason/packer.nvim ~/.local/share/nvim/site/pack/packer/start/packer.nvim,
          Installing packer,
        ]

- link:
    ~/.config/nvim:
      path: config/nvim
    ~/.config/tmux:
      path: config/tmux
    ~/.zshrc:
      force: true
    ~/.wezterm.lua:
      force: true

- shell:
    - command: tmux source-file ~/.config/tmux/tmux.conf | bash
      stdout: true
      description: Source tmux config

- shell:
    - [
        curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash,
        Installing NVM,
      ]
